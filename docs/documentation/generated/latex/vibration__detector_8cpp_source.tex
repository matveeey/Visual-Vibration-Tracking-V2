\hypertarget{vibration__detector_8cpp_source}{}\doxysection{vibration\+\_\+detector.\+cpp}
\label{vibration__detector_8cpp_source}\index{C:/Users/seeyo/source/repos/Visual-\/Vibration-\/Tracking-\/V2/source/vibration\_detector.cpp@{C:/Users/seeyo/source/repos/Visual-\/Vibration-\/Tracking-\/V2/source/vibration\_detector.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}VVT-\/V2\(\backslash\)vibration\_detector.h"{}}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00003}\mbox{\hyperlink{class_vibration_detector_a5118f744911132e7683580dde4e25c0d}{00003}} \mbox{\hyperlink{class_vibration_detector_a5118f744911132e7683580dde4e25c0d}{VibrationDetector::VibrationDetector}}(std::string input\_file\_name, std::string output\_file\_name, std::string window\_name) :}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00004}00004     input\_file\_name\_\{ input\_file\_name \},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00005}00005     output\_file\_name\_\{ output\_file\_name \},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00006}00006     window\_name\_\{ window\_name \},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00007}00007     warping\_figure\_selecting\_\{ false \},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00008}00008     colored\_point\_mode\_\{ COLORING\_BASED\_ON\_FREQUENCY \},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00009}00009     sensivity\_in\_percents\_\{ 1 \},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00010}00010     roi\_selecting\_\{ false \},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00011}00011     point\_id\_\{ 0 \},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00012}00012     current\_mode\_\{ DEFAULT \},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00013}00013     fullscreen\_\{ false \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00014}00014 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00015}00015     \mbox{\hyperlink{class_vibration_detector_afd9f8f38bcde73bb14c9cf643f270d36}{roi\_selected\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00016}00016     \mbox{\hyperlink{class_vibration_detector_abc8267e01dbf92e742db792c530e490a}{lk\_win\_size\_}} = 40;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00017}00017     \mbox{\hyperlink{class_vibration_detector_a2a3692c7dd7a78cbc9af4d070d71264a}{level\_amount\_}} = 1;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00019}00019     \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_frame_handler}{FrameHandler}}(\mbox{\hyperlink{class_vibration_detector_a5f9772794a4f76bb0503a9f046d65b72}{input\_file\_name\_}}, \mbox{\hyperlink{class_vibration_detector_a7e4bada48fc235b2c02ad07fcec6fdd1}{output\_file\_name\_}}, MAIN\_WINDOW\_NAME);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00021}00021     \mbox{\hyperlink{class_vibration_detector_a5c0d42618889da70c073056ba3e4065c}{res\_mp\_}} = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_ae37c57501fea114483f4ea51da37d08a}{GetTextResizeFactor}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00023}00023     \mbox{\hyperlink{class_vibration_detector_adda01acf92ced4b8bfa5880bb475ce55}{output\_csv\_file\_name\_}} = \mbox{\hyperlink{group___helper_functions_ga757c85a4bbcc0f0aa436369ac7ed57e0}{HelperFunctions::GenerateCsvFilename}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00024}00024 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00025}00025 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00026}00026 VibrationDetector::\string~VibrationDetector()}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00027}00027 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00028}00028     \textcolor{keyword}{delete} \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00029}00029     \mbox{\hyperlink{class_vibration_detector_ab0f3c59d611f15ff9505429bcf2e45b7}{DeleteColoredPoints}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00030}00030     \textcolor{keywordflow}{while} (!\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.empty())}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00031}00031     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00032}00032         \textcolor{keyword}{delete}(*(std::begin(\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}})));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00033}00033         \textcolor{comment}{// удаляем первую точку (первую в векторе и по сути первую по номеру)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00034}00034         \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.erase(std::begin(\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00035}00035     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00036}00036 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00038}\mbox{\hyperlink{class_vibration_detector_af1da28823c948acc115fc862378b62d8}{00038}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_af1da28823c948acc115fc862378b62d8}{VibrationDetector::ServeTheQueues}}()}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00039}00039 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00040}00040     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a51842be0abc4ac57d3e07bbb7ff33d8e}{l\_click\_queue\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00041}00041     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00042}00042         \mbox{\hyperlink{class_vibration_detector_aa43b85f7a90ea3021b63608b378a81f4}{LeftClickHandler}}(\mbox{\hyperlink{class_vibration_detector_a51842be0abc4ac57d3e07bbb7ff33d8e}{l\_click\_queue\_}}[i]);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00043}00043     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00044}00044     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a48e1f58a28d451445a23ea6575ef9b38}{c\_point\_queue\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00045}00045     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00046}00046         \mbox{\hyperlink{class_vibration_detector_a725d87ae6c09ef9f18c95f8490086478}{CreateNewColoredPoint}}(\mbox{\hyperlink{class_vibration_detector_a48e1f58a28d451445a23ea6575ef9b38}{c\_point\_queue\_}}[i]);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00047}00047     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00048}00048     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a290fb09835aef1220fc44485e0f391de}{delete\_queue\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00049}00049     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00050}00050         \mbox{\hyperlink{class_vibration_detector_a6c1ef9b4b8a5a8f2159398a05571c410}{DeletePoints}}(\mbox{\hyperlink{class_vibration_detector_a290fb09835aef1220fc44485e0f391de}{delete\_queue\_}}[i]);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00051}00051     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00052}00052     \mbox{\hyperlink{class_vibration_detector_a51842be0abc4ac57d3e07bbb7ff33d8e}{l\_click\_queue\_}}.clear();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00053}00053     \mbox{\hyperlink{class_vibration_detector_a48e1f58a28d451445a23ea6575ef9b38}{c\_point\_queue\_}}.clear();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00054}00054     \mbox{\hyperlink{class_vibration_detector_a290fb09835aef1220fc44485e0f391de}{delete\_queue\_}}.clear();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00055}00055 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00057}\mbox{\hyperlink{class_vibration_detector_a176e5b0d0ca409c6cfcacdeca13240de}{00057}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_a176e5b0d0ca409c6cfcacdeca13240de}{VibrationDetector::CreateNewPoint}}(Point2f mouse\_coordinates)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00058}00058 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00059}00059     \mbox{\hyperlink{class_lonely_point_handler}{LonelyPointHandler}}* point\_handler\_ = \textcolor{keyword}{new} \mbox{\hyperlink{class_lonely_point_handler}{LonelyPointHandler}}(mouse\_coordinates, \mbox{\hyperlink{class_vibration_detector_a779ca47185d36d5fe0cf216c1cb9f48e}{fps\_}}, \mbox{\hyperlink{class_vibration_detector_af7093e56d2391aceaeb9d9cbd389eaaf}{point\_id\_}}++, \mbox{\hyperlink{class_vibration_detector_a5c0d42618889da70c073056ba3e4065c}{res\_mp\_}}, \mbox{\hyperlink{class_vibration_detector_adda01acf92ced4b8bfa5880bb475ce55}{output\_csv\_file\_name\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00060}00060     \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.push\_back(point\_handler\_);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00061}00061 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00063}\mbox{\hyperlink{class_vibration_detector_aa43b85f7a90ea3021b63608b378a81f4}{00063}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_aa43b85f7a90ea3021b63608b378a81f4}{VibrationDetector::LeftClickHandler}}(Point2f mouse\_coordinates)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00064}00064 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00065}00065     \textcolor{comment}{// если вектор пустой -\/ просто добавляем новую точку}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00066}00066     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.empty())}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00067}00067     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00068}00068         \textcolor{keywordtype}{bool} flag\_colored\_interacted\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00069}00069         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00070}00070         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00071}00071             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>\mbox{\hyperlink{class_vibrating_point_a342c75a6ac0f9ab85de1a0dd663eab03}{VibratingPoint::IsInteracted}}(mouse\_coordinates))}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00072}00072             \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00073}00073                 \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>SetHistogramFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00074}00074                 flag\_colored\_interacted\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00075}00075             \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00076}00076         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00077}00077         \textcolor{keywordflow}{if} (flag\_colored\_interacted\_ == \textcolor{keyword}{false})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00078}00078             \mbox{\hyperlink{class_vibration_detector_a176e5b0d0ca409c6cfcacdeca13240de}{CreateNewPoint}}(mouse\_coordinates);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00079}00079     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00080}00080     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00081}00081     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00082}00082         \textcolor{comment}{// проходим по всему вектору точек}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00083}00083         \textcolor{keywordtype}{bool} flag\_lonely\_interacted\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00084}00084         \textcolor{keywordtype}{bool} flag\_colored\_interacted\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00085}00085         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00086}00086         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00087}00087             \textcolor{comment}{// если произошло пересечение с мышкой, то новую точку не добавляем}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00088}00088             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>\mbox{\hyperlink{class_vibrating_point_a342c75a6ac0f9ab85de1a0dd663eab03}{VibratingPoint::IsInteracted}}(mouse\_coordinates))}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00089}00089             \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00090}00090                 \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>SetHistogramFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00091}00091                 \textcolor{comment}{//vec\_lonely\_point\_handlers\_[i]-\/>SetHistogramWindowProperty(WND\_PROP\_TOPMOST, true);}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00092}00092                 flag\_lonely\_interacted\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00093}00093             \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00094}00094         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00095}00095         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00096}00096         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00097}00097             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>\mbox{\hyperlink{class_vibrating_point_a342c75a6ac0f9ab85de1a0dd663eab03}{VibratingPoint::IsInteracted}}(mouse\_coordinates))}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00098}00098             \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00099}00099                 \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>SetHistogramFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00100}00100                 flag\_colored\_interacted\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00101}00101             \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00102}00102         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00103}00103         \textcolor{keywordflow}{if} (flag\_lonely\_interacted\_ == \textcolor{keyword}{false} \&\& flag\_colored\_interacted\_ == \textcolor{keyword}{false})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00104}00104             \mbox{\hyperlink{class_vibration_detector_a176e5b0d0ca409c6cfcacdeca13240de}{CreateNewPoint}}(mouse\_coordinates);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00105}00105     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00106}00106 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00107}00107 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00108}\mbox{\hyperlink{class_vibration_detector_a725d87ae6c09ef9f18c95f8490086478}{00108}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_a725d87ae6c09ef9f18c95f8490086478}{VibrationDetector::CreateNewColoredPoint}}(Point2f mouse\_coordinates)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00109}00109 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00110}00110     \mbox{\hyperlink{class_colored_point_handler}{ColoredPointHandler}}* point\_handler\_ = \textcolor{keyword}{new} \mbox{\hyperlink{class_colored_point_handler}{ColoredPointHandler}}(mouse\_coordinates, \mbox{\hyperlink{class_vibration_detector_a779ca47185d36d5fe0cf216c1cb9f48e}{fps\_}}, \mbox{\hyperlink{class_vibration_detector_af7093e56d2391aceaeb9d9cbd389eaaf}{point\_id\_}}++, \mbox{\hyperlink{class_vibration_detector_a5c0d42618889da70c073056ba3e4065c}{res\_mp\_}}, \mbox{\hyperlink{class_vibration_detector_adda01acf92ced4b8bfa5880bb475ce55}{output\_csv\_file\_name\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00111}00111     \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.push\_back(point\_handler\_);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00112}00112 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00113}00113 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00114}\mbox{\hyperlink{class_vibration_detector_a6c1ef9b4b8a5a8f2159398a05571c410}{00114}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_a6c1ef9b4b8a5a8f2159398a05571c410}{VibrationDetector::DeletePoints}}(Point2i mouse\_coordinates)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00115}00115 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00116}00116     \textcolor{comment}{// создаем вектор ID (номеров) для точек, которые удалим}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00117}00117     std::vector<int> lon\_point\_ids\_to\_be\_deleted\_;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00118}00118     std::vector<int> col\_point\_ids\_to\_be\_deleted\_;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00119}00119 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00120}00120     \textcolor{comment}{// проходим по всему вектору точек}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00121}00121     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00122}00122     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00123}00123         \textcolor{comment}{// если произошло пересечение с мышкой, вносим ID (номер) точки в "{}вектор точек на удаление"{} или уровень доверия"{} точки стал слишком маленький, так же удаляем точку}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00124}00124         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>\mbox{\hyperlink{class_vibrating_point_a342c75a6ac0f9ab85de1a0dd663eab03}{VibratingPoint::IsInteracted}}(mouse\_coordinates))}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00125}00125         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00126}00126             lon\_point\_ids\_to\_be\_deleted\_.push\_back(i);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00127}00127         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00128}00128     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00129}00129     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00130}00130     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00131}00131         \textcolor{comment}{// если произошло пересечение с мышкой, вносим ID (номер) точки в "{}вектор точек на удаление"{} или уровень доверия"{} точки стал слишком маленький, так же удаляем точку}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00132}00132         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>\mbox{\hyperlink{class_vibrating_point_a342c75a6ac0f9ab85de1a0dd663eab03}{VibratingPoint::IsInteracted}}(mouse\_coordinates))}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00133}00133         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00134}00134             col\_point\_ids\_to\_be\_deleted\_.push\_back(i);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00135}00135         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00136}00136     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00137}00137     std::cout << \textcolor{stringliteral}{"{}DEBUG: deleting "{}} << lon\_point\_ids\_to\_be\_deleted\_.size() + col\_point\_ids\_to\_be\_deleted\_.size() << \textcolor{stringliteral}{"{} point"{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00138}00138 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00139}00139     \textcolor{comment}{// проходимся по вектору точек на удаление}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00140}00140     \textcolor{keywordflow}{while} (!lon\_point\_ids\_to\_be\_deleted\_.empty())}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00141}00141     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00142}00142         \textcolor{keyword}{delete}(*(std::begin(\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}) + lon\_point\_ids\_to\_be\_deleted\_[0]));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00143}00143         \textcolor{comment}{// удаляем первую точку (первую в векторе и по сути первую по номеру)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00144}00144         \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.erase(std::begin(\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}) + lon\_point\_ids\_to\_be\_deleted\_[0]);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00145}00145         \textcolor{comment}{// удаляем номер только что удалённой точки из вектора}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00146}00146         lon\_point\_ids\_to\_be\_deleted\_.erase(std::begin(lon\_point\_ids\_to\_be\_deleted\_));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00147}00147         \textcolor{comment}{// меняем номера других точек в списке, если там ещё что-\/то есть}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00148}00148         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < lon\_point\_ids\_to\_be\_deleted\_.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00149}00149         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00150}00150             \textcolor{comment}{// уменьшаем номер оставшихся в очереди на удаление точек на один, тк номера в vec\_point\_handlers сместились на один вниз (влево и тп, как удобнее для понимания :))}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00151}00151             lon\_point\_ids\_to\_be\_deleted\_[i] = lon\_point\_ids\_to\_be\_deleted\_[i] -\/ 1;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00152}00152         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00153}00153     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00154}00154 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00155}00155     \textcolor{keywordflow}{while} (!col\_point\_ids\_to\_be\_deleted\_.empty())}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00156}00156     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00157}00157         \textcolor{keyword}{delete}(*(std::begin(\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}) + col\_point\_ids\_to\_be\_deleted\_[0]));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00158}00158         \textcolor{comment}{// удаляем первую точку (первую в векторе и по сути первую по номеру)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00159}00159         \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.erase(std::begin(\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}) + col\_point\_ids\_to\_be\_deleted\_[0]);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00160}00160         \textcolor{comment}{// удаляем номер только что удалённой точки из вектора}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00161}00161         col\_point\_ids\_to\_be\_deleted\_.erase(std::begin(col\_point\_ids\_to\_be\_deleted\_));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00162}00162         \textcolor{comment}{// меняем номера других точек в списке, если там ещё что-\/то есть}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00163}00163         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < col\_point\_ids\_to\_be\_deleted\_.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00164}00164         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00165}00165             \textcolor{comment}{// уменьшаем номер оставшихся в очереди на удаление точек на один, тк номера в vec\_point\_handlers сместились на один вниз (влево и тп, как удобнее для понимания :))}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00166}00166             col\_point\_ids\_to\_be\_deleted\_[i] = col\_point\_ids\_to\_be\_deleted\_[i] -\/ 1;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00167}00167         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00168}00168     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00169}00169 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00170}00170     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.empty())}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00171}00171     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00172}00172         \mbox{\hyperlink{class_vibrating_point_afdefa096df21cf891ae6835a6df4ffc9}{VibratingPoint::extremum\_amplitude\_}}.first = 0.0;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00173}00173         \mbox{\hyperlink{class_vibrating_point_afdefa096df21cf891ae6835a6df4ffc9}{VibratingPoint::extremum\_amplitude\_}}.second = 500.0;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00174}00174     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00175}00175 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00176}00176 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00177}\mbox{\hyperlink{class_vibration_detector_ab0f3c59d611f15ff9505429bcf2e45b7}{00177}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_ab0f3c59d611f15ff9505429bcf2e45b7}{VibrationDetector::DeleteColoredPoints}}()}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00178}00178 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00179}00179     \textcolor{comment}{// Проходимся по вектору хэндлеров}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00180}00180     \textcolor{keywordflow}{while} (!\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.empty())}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00181}00181     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00182}00182         \textcolor{keyword}{delete}(*(std::begin(\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}})));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00183}00183         \textcolor{comment}{// удаляем первую точку (первую в векторе и по сути первую по номеру)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00184}00184         \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.erase(std::begin(\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00185}00185     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00186}00186 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00187}00187     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.empty())}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00188}00188     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00189}00189         \mbox{\hyperlink{class_vibrating_point_afdefa096df21cf891ae6835a6df4ffc9}{VibratingPoint::extremum\_amplitude\_}}.first = 0.0;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00190}00190         \mbox{\hyperlink{class_vibrating_point_afdefa096df21cf891ae6835a6df4ffc9}{VibratingPoint::extremum\_amplitude\_}}.second = 500.0;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00191}00191     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00192}00192 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00193}00193 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00194}\mbox{\hyperlink{class_vibration_detector_aba1212595904b3a3d4f1ef8ebef89d87}{00194}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_aba1212595904b3a3d4f1ef8ebef89d87}{VibrationDetector::FindAndDeleteUncofidentPoints}}()}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00195}00195 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00196}00196     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00197}00197     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00198}00198         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>GetCurrentConfidenceLevel() < 0.0)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00199}00199         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00200}00200             \textcolor{keyword}{delete}(*(std::begin(\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}) + i));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00201}00201             \textcolor{comment}{// удаляем первую точку (первую в векторе и по сути первую по номеру)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00202}00202             \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.erase(std::begin(\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}) + i);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00203}00203         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00204}00204     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00205}00205     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00206}00206     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00207}00207         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>GetCurrentConfidenceLevel() < 0.0))}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00208}00208         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00209}00209             \textcolor{keyword}{delete}(*(std::begin(\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}) + i));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00210}00210             \textcolor{comment}{// удаляем первую точку (первую в векторе и по сути первую по номеру)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00211}00211             \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.erase(std::begin(\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}) + i);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00212}00212         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00213}00213     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00214}00214 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00215}00215 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00216}00216 \textcolor{comment}{// callback function for determining the event click on mouse}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00217}\mbox{\hyperlink{class_vibration_detector_a3596d10b3b4e68b7c4151631fbb7aeb1}{00217}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_a3596d10b3b4e68b7c4151631fbb7aeb1}{VibrationDetector::OnMouse}}(\textcolor{keywordtype}{int} event, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} flags, \textcolor{keywordtype}{void}* userdata)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00218}00218 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00219}00219     \mbox{\hyperlink{class_vibration_detector}{VibrationDetector}}* d = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_vibration_detector}{VibrationDetector}}*\textcolor{keyword}{>}(userdata);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00220}00220     d-\/>\mbox{\hyperlink{class_vibration_detector_a7b586f40cc32c90aef3467d2c906758a}{DetectEvent}}(event, x, y, flags);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00221}00221 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00222}00222 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00223}00223 \textcolor{comment}{// "{}helper"{} function for implementing callback function as a method of C++ class}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00224}\mbox{\hyperlink{class_vibration_detector_a7b586f40cc32c90aef3467d2c906758a}{00224}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_a7b586f40cc32c90aef3467d2c906758a}{VibrationDetector::DetectEvent}}(\textcolor{keywordtype}{int} event, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} flags)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00225}00225 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00226}00226     \textcolor{keywordflow}{switch} (\mbox{\hyperlink{class_vibration_detector_ad3748489d876505deab724e16cf1e767}{current\_mode\_}})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00227}00227     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00228}00228     \textcolor{keywordflow}{case} DEFAULT:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00229}00229     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00230}00230         \mbox{\hyperlink{class_vibration_detector_a21af0947bd97bcb37db8625516efcd9c}{DefaultModeHandler}}(event, x, y);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00231}00231         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00232}00232     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00233}00233     \textcolor{keywordflow}{case} SELECTINGROI:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00234}00234     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00235}00235         \mbox{\hyperlink{class_vibration_detector_a30c131133b8faa624d16839036c2a046}{RoiSelectionModeHandler}}(event, x, y);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00236}00236         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00237}00237     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00238}00238     \textcolor{keywordflow}{case} PAUSE:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00239}00239     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00240}00240         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00241}00241     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00242}00242     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00243}00243 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00244}00244 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00245}\mbox{\hyperlink{class_vibration_detector_a21af0947bd97bcb37db8625516efcd9c}{00245}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_a21af0947bd97bcb37db8625516efcd9c}{VibrationDetector::DefaultModeHandler}}(\textcolor{keywordtype}{int} event, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00246}00246 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00247}00247     \textcolor{keywordflow}{switch} (event)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00248}00248     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00249}00249     \textcolor{keywordflow}{case} EVENT\_LBUTTONDOWN:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00250}00250     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00251}00251         \textcolor{comment}{// Проверяем флаги выделения ROI и фигуры для варпа}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00252}00252         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_vibration_detector_aacb53723f4a18df998738d0d54c5290b}{roi\_selecting\_}})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00253}00253         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00254}00254             \mbox{\hyperlink{class_vibration_detector_a51842be0abc4ac57d3e07bbb7ff33d8e}{l\_click\_queue\_}}.push\_back(Point2i(x, y));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00255}00255         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00256}00256         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00257}00257     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00258}00258     \textcolor{keywordflow}{case} EVENT\_RBUTTONDOWN:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00259}00259     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00260}00260         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_vibration_detector_aacb53723f4a18df998738d0d54c5290b}{roi\_selecting\_}} \&\& !\mbox{\hyperlink{class_vibration_detector_a3b8ea35de43e2702a889f8def948ece4}{warping\_figure\_selecting\_}})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00261}00261             \mbox{\hyperlink{class_vibration_detector_a290fb09835aef1220fc44485e0f391de}{delete\_queue\_}}.push\_back(Point2i(x, y));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00262}00262         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00263}00263     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00264}00264     \textcolor{keywordflow}{case} EVENT\_MOUSEMOVE:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00265}00265     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00266}00266         \textcolor{comment}{// Координаты последнего перемещения мыши}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00267}00267         \mbox{\hyperlink{class_vibration_detector_a69f64f7b483a4295abd6e5a48ab161ff}{last\_mouse\_position\_}}.x = x;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00268}00268         \mbox{\hyperlink{class_vibration_detector_a69f64f7b483a4295abd6e5a48ab161ff}{last\_mouse\_position\_}}.y = y;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00269}00269     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00270}00270     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00271}00271 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00272}\mbox{\hyperlink{class_vibration_detector_a30c131133b8faa624d16839036c2a046}{00272}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_a30c131133b8faa624d16839036c2a046}{VibrationDetector::RoiSelectionModeHandler}}(\textcolor{keywordtype}{int} event, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00273}00273 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00274}00274     \textcolor{keywordflow}{switch} (event)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00275}00275     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00276}00276     \textcolor{keywordflow}{case} EVENT\_LBUTTONDOWN:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00277}00277     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00278}00278         \textcolor{comment}{// Удаляем старые "{}цветные"{} точки}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00279}00279         \mbox{\hyperlink{class_vibration_detector_ab0f3c59d611f15ff9505429bcf2e45b7}{DeleteColoredPoints}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00280}00280         \textcolor{comment}{// Делаем флаг для выделения ROI активным}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00281}00281         \mbox{\hyperlink{class_vibration_detector_aacb53723f4a18df998738d0d54c5290b}{roi\_selecting\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00282}00282         \textcolor{comment}{// Сохраняем координаты клика как одну из границ ROI}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00283}00283         \mbox{\hyperlink{class_vibration_detector_aef49bdadca0536214393e22addf4ce04}{tl\_click\_coords\_}}.x = x;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00284}00284         \mbox{\hyperlink{class_vibration_detector_aef49bdadca0536214393e22addf4ce04}{tl\_click\_coords\_}}.y = y;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00285}00285         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00286}00286     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00287}00287     \textcolor{keywordflow}{case} EVENT\_LBUTTONUP:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00288}00288     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00289}00289         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_aacb53723f4a18df998738d0d54c5290b}{roi\_selecting\_}})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00290}00290         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00291}00291             \textcolor{comment}{// Отключаем флаг для выделения ROI}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00292}00292             \mbox{\hyperlink{class_vibration_detector_aacb53723f4a18df998738d0d54c5290b}{roi\_selecting\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00293}00293             \mbox{\hyperlink{class_vibration_detector_afd9f8f38bcde73bb14c9cf643f270d36}{roi\_selected\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00294}00294             \textcolor{comment}{// Сохраняем последние позиции}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00295}00295             \mbox{\hyperlink{class_vibration_detector_a69f64f7b483a4295abd6e5a48ab161ff}{last\_mouse\_position\_}}.x = x;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00296}00296             \mbox{\hyperlink{class_vibration_detector_a69f64f7b483a4295abd6e5a48ab161ff}{last\_mouse\_position\_}}.y = y;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00297}00297         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00298}00298         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00299}00299     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00300}00300     \textcolor{keywordflow}{case} EVENT\_MOUSEMOVE:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00301}00301     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00302}00302         \textcolor{comment}{// Координаты последнего перемещения мыши}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00303}00303         \mbox{\hyperlink{class_vibration_detector_a69f64f7b483a4295abd6e5a48ab161ff}{last\_mouse\_position\_}}.x = x;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00304}00304         \mbox{\hyperlink{class_vibration_detector_a69f64f7b483a4295abd6e5a48ab161ff}{last\_mouse\_position\_}}.y = y;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00305}00305         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00306}00306     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00307}00307     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00308}00308 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00309}00309 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00310}\mbox{\hyperlink{class_vibration_detector_ae2fadec69d259a03125901ad988e7137}{00310}} Mat \mbox{\hyperlink{class_vibration_detector_ae2fadec69d259a03125901ad988e7137}{VibrationDetector::MakeWarpedFrame}}(Mat frame, std::vector<Point2i> warping\_figure)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00311}00311 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00312}00312     \textcolor{keywordtype}{int} coeff = 1;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00313}00313 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00314}00314     Point2f src[4] = \{ warping\_figure[0], warping\_figure[1], warping\_figure[2], warping\_figure[3] \};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00315}00315 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00316}00316     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00317}00317     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00318}00318         src[i].x = src[i].x * coeff;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00319}00319         src[i].y = src[i].y * coeff;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00320}00320         warping\_figure[i].x = warping\_figure[i].x * coeff;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00321}00321         warping\_figure[i].y = warping\_figure[i].y * coeff;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00322}00322     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00323}00323 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00324}00324     \textcolor{comment}{/*float w =}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00325}00325 \textcolor{comment}{        sqrt((warping\_figure[2].x -\/ warping\_figure[3].x) * (warping\_figure[2].x -\/ warping\_figure[3].x)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00326}00326 \textcolor{comment}{        +}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00327}00327 \textcolor{comment}{        (warping\_figure[2].y -\/ warping\_figure[3].y) * (warping\_figure[2].y -\/ warping\_figure[3].y)) * 2 / 3;*/}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00328}00328     \textcolor{keywordtype}{float} h =}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00329}00329         sqrt((warping\_figure[1].x -\/ warping\_figure[3].x) * (warping\_figure[1].x -\/ warping\_figure[3].x)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00330}00330         +}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00331}00331         (warping\_figure[1].y -\/ warping\_figure[3].y) * (warping\_figure[1].y -\/ warping\_figure[3].y));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00332}00332     \textcolor{keywordtype}{float} w = h * 2 / 3;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00333}00333 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00334}00334     Point2f dst[4] = \{ \{0.0f,0.0f\},\{w,0.0f\},\{0.0f,h\},\{w,h\} \};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00335}00335 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00336}00336     Mat matrix = getPerspectiveTransform(src, dst);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00337}00337     warpPerspective(frame, frame, matrix, Point(w, h));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00338}00338 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00339}00339     \textcolor{keywordflow}{return} frame;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00340}00340 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00341}00341 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00342}\mbox{\hyperlink{class_vibration_detector_a81f38d7f3d0599b01186a122d68d09ee}{00342}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_a81f38d7f3d0599b01186a122d68d09ee}{VibrationDetector::TrackAndCalc}}()}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00343}00343 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00344}00344     \textcolor{comment}{// Находим и удаляем точки с низким параметром confidence}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00345}00345     \mbox{\hyperlink{class_vibration_detector_aba1212595904b3a3d4f1ef8ebef89d87}{FindAndDeleteUncofidentPoints}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00346}00346 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00347}00347     std::vector<Point2f> PrevPts;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00348}00348     std::vector<Point2f> NextPts;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00349}00349     std::vector<uchar> status;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00350}00350     std::vector<float> error;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00351}00351 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00352}00352     \textcolor{comment}{// "{}Достаем"{} из lonely point handler'ов последние найденные точки, чтобы использовать их в качестве "{}начальных"{} значений для calcOpticalFlowPyrLK()}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00353}00353     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00354}00354     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00355}00355         PrevPts.push\_back(\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>GetLastFoundCoordinates());}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00356}00356     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00357}00357     \textcolor{comment}{// "{}Достаем"{} из colored point handler'ов последние найденные точки, чтобы использовать их в качестве "{}начальных"{} значений для calcOpticalFlowPyrLK()}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00358}00358     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00359}00359     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00360}00360 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00361}00361         PrevPts.push\_back(\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>GetLastFoundCoordinates());}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00362}00362     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00363}00363 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00364}00364     \textcolor{keywordflow}{if} ((!\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.empty()) || (!\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.empty()))}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00365}00365         \textcolor{comment}{// вызов Lucas-\/Kanade алгоритма}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00366}00366         calcOpticalFlowPyrLK(}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00367}00367             \mbox{\hyperlink{class_vibration_detector_a3c524b0b7ab0348fe4fb6018f64b4dcf}{prev\_img\_gray\_}},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00368}00368             \mbox{\hyperlink{class_vibration_detector_a016d906a3746e6d61b9468c7127a717f}{next\_img\_gray\_}},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00369}00369             PrevPts,}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00370}00370             NextPts,}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00371}00371             status,}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00372}00372             error,}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00373}00373             Size(\mbox{\hyperlink{class_vibration_detector_abc8267e01dbf92e742db792c530e490a}{lk\_win\_size\_}}, \mbox{\hyperlink{class_vibration_detector_abc8267e01dbf92e742db792c530e490a}{lk\_win\_size\_}}),}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00374}00374             \mbox{\hyperlink{class_vibration_detector_a2a3692c7dd7a78cbc9af4d070d71264a}{level\_amount\_}},}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00375}00375             TermCriteria(}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00376}00376                 TermCriteria::MAX\_ITER | TermCriteria::EPS,}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00377}00377                 500,}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00378}00378                 0.001}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00379}00379             ),}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00380}00380             OPTFLOW\_LK\_GET\_MIN\_EIGENVALS}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00381}00381         );}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00382}00382 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00383}00383     \textcolor{comment}{// проверяем равны ли размеры векторов хэндлеров точек и найденных точек на картинке}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00384}00384     \textcolor{keywordflow}{if} (NextPts.size() != (\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.size() + \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.size()))}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00385}00385     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00386}00386         std::cout << \textcolor{stringliteral}{"{}DEBUG: ERROR -\/ NextPts size doesnt match vec\_point\_handlers\_ size"{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00387}00387     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00388}00388 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00389}00389     std::vector<double> point\_amplitudes;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00390}00390 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00391}00391     \textcolor{comment}{// Закидываем найденные значения обратно в point handler'ы}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00392}00392     \textcolor{comment}{// Сначала проходимся по lonely хэндлерам}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00393}00393     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00394}00394     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00395}00395         \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>AddNewPointPosition(NextPts[i]);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00396}00396         \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>AddNewPointTime(\mbox{\hyperlink{class_vibration_detector_a4cf6c4a052388d4fb17ec01815bc0bbe}{frame\_time\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00397}00397         \textcolor{comment}{// Вызов БПФ (FFT)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00398}00398         \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>ExecuteFFT();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00399}00399         \textcolor{comment}{// Вычисляем амплитуду}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00400}00400         \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>CalculateAmplitude();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00401}00401         \textcolor{keywordtype}{double} ampl\_x = \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>GetCurrentAmplitude().x, ampl\_y = \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>GetCurrentAmplitude().y;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00402}00402         point\_amplitudes.push\_back(sqrt(ampl\_x * ampl\_x + ampl\_y * ampl\_y));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00403}00403     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00404}00404     \textcolor{comment}{// После проходимся по colored хэндлерам}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00405}00405     \textcolor{comment}{// }}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00406}00406     \textcolor{comment}{// Небольшое пояснение:}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00407}00407     \textcolor{comment}{// В контейнере NextPts содержатся одновременно lonely и colored точки (причём именно в таком порядке). По сути они делят NextPts на две части -\/ левую (lonely) и правую (colored)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00408}00408     \textcolor{comment}{// Поэтому, добавляя в хэндлер цветных точек новые координаты, надо идти по NextPts, учитывая возможное (если таковые были добавлены) наличие lonely точек в левой части}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00409}00409     \textcolor{comment}{// Для этого индекс у NextPts = индекс вектора с хэндлерами colored точек + размер вектора с хэндлерами lonely точек (i + vec\_lonely\_point\_handlers\_.size())}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00410}00410     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00411}00411     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00412}00412         \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>AddNewPointPosition(NextPts[i + \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.size()]);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00413}00413         \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>AddNewPointTime(\mbox{\hyperlink{class_vibration_detector_a4cf6c4a052388d4fb17ec01815bc0bbe}{frame\_time\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00414}00414         \textcolor{comment}{// Вызов БПФ (FFT)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00415}00415         \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>ExecuteFFT();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00416}00416         \textcolor{comment}{// Вычисляем амплитуду}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00417}00417         \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>CalculateAmplitude();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00418}00418         \textcolor{keywordtype}{double} ampl\_x = \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>GetCurrentAmplitude().x, ampl\_y = \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>GetCurrentAmplitude().y;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00419}00419         point\_amplitudes.push\_back(sqrt(ampl\_x * ampl\_x + ampl\_y * ampl\_y));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00420}00420     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00421}00421 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00422}00422     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.empty() || !\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.empty())}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00423}00423     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00424}00424         \textcolor{keywordtype}{int} max\_idx = \mbox{\hyperlink{group___helper_functions_gacc82d70b750eb60ad49c7a36e5c7f0ca}{HelperFunctions::FindGlobalMaxIdx}}(point\_amplitudes);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00425}00425         \textcolor{keywordtype}{int} min\_idx = \mbox{\hyperlink{group___helper_functions_gabe168b250f6a7c6c89fe5b685c3898a0}{HelperFunctions::FindGlobalMinIdx}}(point\_amplitudes);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00426}00426 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00427}00427         \mbox{\hyperlink{class_vibrating_point_afdefa096df21cf891ae6835a6df4ffc9}{VibratingPoint::extremum\_amplitude\_}}.first = point\_amplitudes[max\_idx];}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00428}00428         \mbox{\hyperlink{class_vibrating_point_afdefa096df21cf891ae6835a6df4ffc9}{VibratingPoint::extremum\_amplitude\_}}.second = *(std::min\_element(point\_amplitudes.begin(), point\_amplitudes.end()));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00429}00429     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00430}00430 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00431}00431 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00432}\mbox{\hyperlink{class_vibration_detector_a58f70fe74fee9f702773a0d2ab18643a}{00432}} std::vector<Point2f> \mbox{\hyperlink{class_vibration_detector_a58f70fe74fee9f702773a0d2ab18643a}{VibrationDetector::FindGoodFeatures}}(Mat frame, Rect roi)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00433}00433 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00434}00434     std::vector<Point2f> good\_features;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00435}00435     \textcolor{comment}{// Если изображение не черно-\/белое}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00436}00436     \textcolor{keywordflow}{if} (frame.channels() > 2)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00437}00437         cvtColor(frame, frame, COLOR\_BGR2GRAY);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00438}00438 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00439}00439     \textcolor{comment}{// Устанавливаем ROI на нашем изображении}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00440}00440     Mat frame\_with\_roi = frame(roi);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00441}00441     goodFeaturesToTrack(frame\_with\_roi, good\_features, 1000, 0.1, 20, noArray(), 3);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00442}00442 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00443}00443     \textcolor{comment}{// Перевод в координаты изначального изображения}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00444}00444     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < good\_features.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00445}00445     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00446}00446         good\_features[i].x = good\_features[i].x + roi.tl().x;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00447}00447         good\_features[i].y = good\_features[i].y + roi.tl().y;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00448}00448     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00449}00449 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00450}00450     \mbox{\hyperlink{class_contour_handler}{ContourHandler}} contour\_handler(frame, \&roi);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00451}00451     std::vector<Point2f> features\_to\_be\_append = contour\_handler.\mbox{\hyperlink{class_contour_handler_a9cac49d5d2fda43b7be55efbc06913f6}{GetContinousContours}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00452}00452 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00453}00453     \textcolor{keyword}{auto} itt = features\_to\_be\_append.begin();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00454}00454     \textcolor{keywordtype}{int} count = 0;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00455}00455     \textcolor{keywordflow}{while} (itt != features\_to\_be\_append.end())}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00456}00456     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00457}00457         good\_features.push\_back(*itt);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00458}00458         itt++;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00459}00459         count++;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00460}00460     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00461}00461 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00462}00462     \textcolor{keywordflow}{return} good\_features;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00463}00463 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00464}00464 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00465}\mbox{\hyperlink{class_vibration_detector_ad8741b76c24a08ec2ce54ff9d934ce76}{00465}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_ad8741b76c24a08ec2ce54ff9d934ce76}{VibrationDetector::DrawAndOutput}}(Mat\& frame)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00466}00466 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00467}00467     \textcolor{comment}{// Рассматриваем вариант, при котором выбран ROI для цветных (colored) точек}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00468}00468     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_afd9f8f38bcde73bb14c9cf643f270d36}{roi\_selected\_}})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00469}00469     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00470}00470         \textcolor{comment}{// Перемещение изображение на переднем плане на X единиц (px)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00471}00471         \textcolor{keywordtype}{int} x\_translation = frame.cols -\/ \mbox{\hyperlink{class_vibration_detector_a41634272ca48ff33bf21b39d11559eaa}{grad\_scale\_}}.cols;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00472}00472         \textcolor{comment}{// Перемещение изображение на переднем плане на Y единиц (px)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00473}00473         \textcolor{keywordtype}{int} y\_translation = frame.rows -\/ \mbox{\hyperlink{class_vibration_detector_a41634272ca48ff33bf21b39d11559eaa}{grad\_scale\_}}.rows;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00474}00474         \textcolor{comment}{// Вектор этого перемещения}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00475}00475         Point2i translation\_vector = Point2i(x\_translation, y\_translation);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00476}00476         \textcolor{comment}{// Вставляем градиент на кадр}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00477}00477         frame = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a7c33b8ad150344db93c24d29bbabd853}{PutFrameOverFrame}}(\mbox{\hyperlink{class_vibration_detector_a41634272ca48ff33bf21b39d11559eaa}{grad\_scale\_}}, frame, translation\_vector);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00478}00478     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00479}00479     \textcolor{comment}{// Масштабируем кадр для вывода на экран и добавляем на него подсказки для пользователя}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00480}00480     frame.copyTo(\mbox{\hyperlink{class_vibration_detector_ace1d4e3045fea22507c11b44cc6fb920}{frame\_to\_be\_shown\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00481}00481     \mbox{\hyperlink{class_vibration_detector_ace1d4e3045fea22507c11b44cc6fb920}{frame\_to\_be\_shown\_}} = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a13af7fdd06b373db04ece2adc6e62d14}{AddTips}}(\mbox{\hyperlink{class_vibration_detector_ace1d4e3045fea22507c11b44cc6fb920}{frame\_to\_be\_shown\_}}, \mbox{\hyperlink{class_vibration_detector_ad3748489d876505deab724e16cf1e767}{current\_mode\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00482}00482     \textcolor{comment}{// Выводим кадр на экран}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00483}00483     \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a194e20bc41e1d8bb849dc6666f182202}{ShowFrame}}(\mbox{\hyperlink{class_vibration_detector_ace1d4e3045fea22507c11b44cc6fb920}{frame\_to\_be\_shown\_}}, \mbox{\hyperlink{class_vibration_detector_a49b64f3fe433f06af9444e8059d0cbc6}{fullscreen\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00484}00484 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00485}00485 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00486}00486 \textcolor{comment}{// DEBUG}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00487}\mbox{\hyperlink{class_vibration_detector_ad99686383d8b80d106ae486a085b092c}{00487}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_ad99686383d8b80d106ae486a085b092c}{VibrationDetector::DrawDebugLkWinRectangle}}(Mat\& frame)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00488}00488 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00489}00489 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00490}00490     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00491}00491     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00492}00492         \textcolor{comment}{// DEBUG}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00493}00493         Rect debug\_lk\_win\_size = Rect(}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00494}00494             Point2i(\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>GetLastFoundCoordinates().x -\/ \mbox{\hyperlink{class_vibration_detector_abc8267e01dbf92e742db792c530e490a}{lk\_win\_size\_}}, \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>GetLastFoundCoordinates().y -\/ \mbox{\hyperlink{class_vibration_detector_abc8267e01dbf92e742db792c530e490a}{lk\_win\_size\_}}),}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00495}00495             Point2i(\mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>GetLastFoundCoordinates().x + \mbox{\hyperlink{class_vibration_detector_abc8267e01dbf92e742db792c530e490a}{lk\_win\_size\_}}, \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>GetLastFoundCoordinates().y + \mbox{\hyperlink{class_vibration_detector_abc8267e01dbf92e742db792c530e490a}{lk\_win\_size\_}})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00496}00496         );}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00497}00497         rectangle(frame, debug\_lk\_win\_size, Scalar(0, 0, 255), 1);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00498}00498     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00499}00499 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00500}00500 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00501}\mbox{\hyperlink{class_vibration_detector_ae93a14aa147af694a90c012f16efc924}{00501}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_vibration_detector_ae93a14aa147af694a90c012f16efc924}{VibrationDetector::ExecuteVibrationDetection}}()}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00502}00502 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00504}00504     \mbox{\hyperlink{class_vibrating_point_afdefa096df21cf891ae6835a6df4ffc9}{VibratingPoint::extremum\_amplitude\_}}.first = 0.0;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00505}00505     \mbox{\hyperlink{class_vibrating_point_afdefa096df21cf891ae6835a6df4ffc9}{VibratingPoint::extremum\_amplitude\_}}.second = 500.0;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00507}00507 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00508}00508     \textcolor{comment}{// reading the first frame of sequence so we can convert it to gray color space}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00509}00509     \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a3837bca5a13d8e1e4969edf0d831baf3}{ReadNextFrame}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00510}00510     \mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}} = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a26b5695df6161f00af36210e4d3d78ad}{GetCurrentFrame}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00511}00511 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00512}00512     \mbox{\hyperlink{class_vibration_detector_a3c524b0b7ab0348fe4fb6018f64b4dcf}{prev\_img\_gray\_}} = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a4bd1108adbbd4c21c4c3233efa8c8d1e}{MakeGrayFrame}}(\mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00513}00513     \mbox{\hyperlink{class_vibration_detector_a779ca47185d36d5fe0cf216c1cb9f48e}{fps\_}} = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a7871807bfd918b88272a175aa33ea165}{GetInputFps}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00514}00514 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00515}00515     \textcolor{comment}{// Генерируем шкалу}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00516}00516     \mbox{\hyperlink{class_vibration_detector_a41634272ca48ff33bf21b39d11559eaa}{grad\_scale\_}} = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_ac586501514225a9e054845c69fe9ccc7}{GenerateGradScale}}(0, \mbox{\hyperlink{class_vibration_detector_a779ca47185d36d5fe0cf216c1cb9f48e}{fps\_}} / 2, \mbox{\hyperlink{class_vibration_detector_af75ebe29dd6955ae7a249c4c854c2657}{colored\_point\_mode\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00517}00517 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00518}00518     \textcolor{comment}{// conditions of exit}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00519}00519     \mbox{\hyperlink{class_vibration_detector_ab0fa5fb784f1db6bdb7a9d9e5d608bb3}{running\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00520}00520     \textcolor{keywordtype}{int} current\_num\_of\_frame = 0;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00521}00521     \textcolor{keywordtype}{int} amount\_of\_frames = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a0a926273fbb3a3901c9a5a75e3380e16}{GetAmountOfFrames}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00522}00522 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00523}00523     \textcolor{comment}{// устанавливаем callback handler на основное окно}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00524}00524     setMouseCallback(\mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a115a1da50a8bc1b00d703b6f8c44222b}{GetMainWindowName}}(), \mbox{\hyperlink{class_vibration_detector_a3596d10b3b4e68b7c4151631fbb7aeb1}{OnMouse}}, (\textcolor{keywordtype}{void}*)\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00525}00525 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00526}00526     \textcolor{keywordflow}{while} ((current\_num\_of\_frame < amount\_of\_frames -\/ 1) \&\& \mbox{\hyperlink{class_vibration_detector_ab0fa5fb784f1db6bdb7a9d9e5d608bb3}{running\_}} == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00527}00527     \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00528}00528         current\_num\_of\_frame = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a79ab90b6a2ce7ea8fef695a11bef514c}{GetCurrentPosOfFrame}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00529}00529 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00530}00530         \textcolor{comment}{// reading next frame and converting it to gray color space}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00531}00531         \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a3837bca5a13d8e1e4969edf0d831baf3}{ReadNextFrame}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00532}00532 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00533}00533         \mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}} = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a26b5695df6161f00af36210e4d3d78ad}{GetCurrentFrame}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00534}00534         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_vibration_detector_a901927a4199f5bf914675f19cae9a651}{warping\_figure\_}}.empty())}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00535}00535         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00536}00536             \mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}} = \mbox{\hyperlink{class_vibration_detector_ae2fadec69d259a03125901ad988e7137}{MakeWarpedFrame}}(\mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}}, \mbox{\hyperlink{class_vibration_detector_a901927a4199f5bf914675f19cae9a651}{warping\_figure\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00537}00537         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00538}00538 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00539}00539         \mbox{\hyperlink{class_vibration_detector_a016d906a3746e6d61b9468c7127a717f}{next\_img\_gray\_}} = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a4bd1108adbbd4c21c4c3233efa8c8d1e}{MakeGrayFrame}}(\mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00540}00540 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00541}00541         \textcolor{comment}{// Трекинг и вычисление частоты вибрации}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00542}00542         \mbox{\hyperlink{class_vibration_detector_a4cf6c4a052388d4fb17ec01815bc0bbe}{frame\_time\_}} = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a61109313b6d4a9a21783a9c7b66dea68}{GetCurrentTimeOfFrame}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00543}00543 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00544}00544         \mbox{\hyperlink{class_vibration_detector_a81f38d7f3d0599b01186a122d68d09ee}{TrackAndCalc}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00545}00545 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00546}00546         \textcolor{comment}{// Рисование точек, треков и данных (вибрации, амплитуды и т.п.)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00547}00547         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00548}00548         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00549}00549             \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>VibratingPoint::IsInteracted(\mbox{\hyperlink{class_vibration_detector_a69f64f7b483a4295abd6e5a48ab161ff}{last\_mouse\_position\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00550}00550             \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>Draw(\mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00551}00551         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00552}00552         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00553}00553         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00554}00554             \textcolor{comment}{// Обновляем максимальную амплитуду}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00555}00555             \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>VibratingPoint::IsInteracted(\mbox{\hyperlink{class_vibration_detector_a69f64f7b483a4295abd6e5a48ab161ff}{last\_mouse\_position\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00556}00556             \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>SetColoringMode(\mbox{\hyperlink{class_vibration_detector_af75ebe29dd6955ae7a249c4c854c2657}{colored\_point\_mode\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00557}00557             \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>Draw(\mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00558}00558         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00559}00559 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00560}00560         \textcolor{comment}{// обслуживаем и очищаем очереди на создание и удаление точек}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00561}00561         \mbox{\hyperlink{class_vibration_detector_af1da28823c948acc115fc862378b62d8}{ServeTheQueues}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00562}00562 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00563}00563         \mbox{\hyperlink{class_vibration_detector_ad8741b76c24a08ec2ce54ff9d934ce76}{DrawAndOutput}}(\mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00564}00564 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00565}00565         \textcolor{comment}{// Записываем изначальный кадр}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00566}00566         \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a43fe77a59e8e5d99f7bb0ad3499591ef}{WriteFrame}}(\mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00567}00567 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00568}00568         \textcolor{comment}{// Обновляем предыдущий кадр}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00569}00569         \mbox{\hyperlink{class_vibration_detector_a3c524b0b7ab0348fe4fb6018f64b4dcf}{prev\_img\_gray\_}} = \mbox{\hyperlink{class_vibration_detector_a016d906a3746e6d61b9468c7127a717f}{next\_img\_gray\_}};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00570}00570 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00571}00571         \textcolor{comment}{// 20 -\/ задержка в мс}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00572}00572         \textcolor{keywordtype}{int} code = waitKey(20);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00573}00573         \textcolor{keywordflow}{switch} (code)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00574}00574         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00575}00575         \textcolor{comment}{// Пауза}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00576}00576         \textcolor{comment}{// Клавиши -\/ пробел (ASCII code)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00577}00577         \textcolor{keywordflow}{case} 32:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00578}00578         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00579}00579             \mbox{\hyperlink{class_vibration_detector_ad3748489d876505deab724e16cf1e767}{current\_mode\_}} = PAUSE;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00580}00580             }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00581}00581             \mbox{\hyperlink{class_vibration_detector_ad8741b76c24a08ec2ce54ff9d934ce76}{DrawAndOutput}}(\mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00582}00582 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00583}00583             waitKey(0);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00584}00584             \mbox{\hyperlink{class_vibration_detector_ad3748489d876505deab724e16cf1e767}{current\_mode\_}} = DEFAULT;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00585}00585             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00586}00586         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00587}00587         \textcolor{keywordflow}{case} \textcolor{charliteral}{'c'}:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00588}00588         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00589}00589             Mat unchanged\_frame = \mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00590}00590             \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a194e20bc41e1d8bb849dc6666f182202}{ShowFrame}}(\mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}}, \mbox{\hyperlink{class_vibration_detector_a49b64f3fe433f06af9444e8059d0cbc6}{fullscreen\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00591}00591             }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00592}00592             \mbox{\hyperlink{class_vibration_detector_a901927a4199f5bf914675f19cae9a651}{warping\_figure\_}}.clear();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00593}00593             \mbox{\hyperlink{class_vibration_detector_a3b8ea35de43e2702a889f8def948ece4}{warping\_figure\_selecting\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00594}00594 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00595}00595             \textcolor{keywordflow}{while} (\mbox{\hyperlink{class_vibration_detector_a3b8ea35de43e2702a889f8def948ece4}{warping\_figure\_selecting\_}})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00596}00596             \{       }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00597}00597                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a901927a4199f5bf914675f19cae9a651}{warping\_figure\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00598}00598                 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00599}00599                     circle(unchanged\_frame, \mbox{\hyperlink{class_vibration_detector_a901927a4199f5bf914675f19cae9a651}{warping\_figure\_}}[i], 10, Scalar(255, 207, 64), 2);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00600}00600                 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00601}00601         }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00602}00602                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_a901927a4199f5bf914675f19cae9a651}{warping\_figure\_}}.size() == 4)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00603}00603                     \mbox{\hyperlink{class_vibration_detector_a3b8ea35de43e2702a889f8def948ece4}{warping\_figure\_selecting\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00604}00604         }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00605}00605                 \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a194e20bc41e1d8bb849dc6666f182202}{ShowFrame}}(unchanged\_frame, \mbox{\hyperlink{class_vibration_detector_a49b64f3fe433f06af9444e8059d0cbc6}{fullscreen\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00606}00606                 waitKey(20);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00607}00607             \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00608}00608             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00609}00609         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00610}00610         \textcolor{comment}{// Изменение чувствительности (VibratingPoint::sensivity\_ -\/> влияет на VibratingPoint::confidence\_level\_)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00611}00611         \textcolor{comment}{// Клавиши -\/ "{}A"{} или "{}a"{} (ASCII code)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00612}00612         \textcolor{comment}{// A -\/ for adjust}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00613}00613         \textcolor{keywordflow}{case} 65:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00614}00614         \textcolor{keywordflow}{case} 97:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00615}00615         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00616}00616             \mbox{\hyperlink{class_vibration_detector_ad3748489d876505deab724e16cf1e767}{current\_mode\_}} = PAUSE;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00617}00617 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00618}00618             \mbox{\hyperlink{class_vibration_detector_ad8741b76c24a08ec2ce54ff9d934ce76}{DrawAndOutput}}(\mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00619}00619 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00620}00620             namedWindow(\textcolor{stringliteral}{"{}Sensivity Window"{}}, WINDOW\_FULLSCREEN);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00621}00621             createTrackbar(\textcolor{stringliteral}{"{}Sensivity"{}}, \textcolor{stringliteral}{"{}Sensivity Window"{}}, \&\mbox{\hyperlink{class_vibration_detector_a418071707b1348281ef2a434c42de26e}{sensivity\_in\_percents\_}}, 100, NULL);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00622}00622 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00623}00623             waitKey(0);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00624}00624 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00625}00625             destroyWindow(\textcolor{stringliteral}{"{}Sensivity Window"{}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00626}00626 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00627}00627             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00628}00628             \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00629}00629                 \mbox{\hyperlink{class_vibration_detector_a5085a389a0ff26924331ab5022eea1af}{vec\_lonely\_point\_handlers\_}}[i]-\/>SetSensivity(2.0 / \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(10 * \mbox{\hyperlink{class_vibration_detector_a418071707b1348281ef2a434c42de26e}{sensivity\_in\_percents\_}}));\(\backslash\)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00630}00630             \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00631}00631             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00632}00632             \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00633}00633                 \mbox{\hyperlink{class_vibration_detector_add86750dfd1683f09410d3fe3822a950}{vec\_colored\_point\_handlers\_}}[i]-\/>SetSensivity(2.0 / \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(10 * \mbox{\hyperlink{class_vibration_detector_a418071707b1348281ef2a434c42de26e}{sensivity\_in\_percents\_}}));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00634}00634             \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00635}00635 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00636}00636             \mbox{\hyperlink{class_vibration_detector_ad3748489d876505deab724e16cf1e767}{current\_mode\_}} = DEFAULT;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00637}00637             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00638}00638         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00639}00639         \textcolor{comment}{// Фуллскрин. }}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00640}00640         \textcolor{comment}{// Клавиши -\/ "{}F"{} или "{}f"{} (ASCII code)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00641}00641         \textcolor{keywordflow}{case} 102:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00642}00642         \textcolor{keywordflow}{case} 70:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00643}00643         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00644}00644             \textcolor{comment}{// Проверка на флаг полноэкранного режима. Если он изначально был false, меняем на true, и наоборот в противном случае}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00645}00645             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_vibration_detector_a49b64f3fe433f06af9444e8059d0cbc6}{fullscreen\_}})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00646}00646             \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00647}00647                 \mbox{\hyperlink{class_vibration_detector_a49b64f3fe433f06af9444e8059d0cbc6}{fullscreen\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00648}00648             \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00649}00649             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00650}00650             \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00651}00651                 \mbox{\hyperlink{class_vibration_detector_a49b64f3fe433f06af9444e8059d0cbc6}{fullscreen\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00652}00652             \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00653}00653             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00654}00654         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00655}00655         \textcolor{comment}{// Изменение режима подсветки точек при активном регионе интереса (ROI)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00656}00656         \textcolor{comment}{// Клавиши -\/ "{}M"{} или "{}m"{} (ASCII code)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00657}00657         \textcolor{keywordflow}{case} 77:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00658}00658         \textcolor{keywordflow}{case} 109:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00659}00659         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00660}00660             \textcolor{comment}{// Перебираем режимы по порядку}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00661}00661             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_af75ebe29dd6955ae7a249c4c854c2657}{colored\_point\_mode\_}} == 2)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00662}00662                 \mbox{\hyperlink{class_vibration_detector_af75ebe29dd6955ae7a249c4c854c2657}{colored\_point\_mode\_}} = 0;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00663}00663             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00664}00664                 \mbox{\hyperlink{class_vibration_detector_af75ebe29dd6955ae7a249c4c854c2657}{colored\_point\_mode\_}}++;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00665}00665 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00666}00666             \mbox{\hyperlink{class_vibration_detector_a41634272ca48ff33bf21b39d11559eaa}{grad\_scale\_}} = \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_ac586501514225a9e054845c69fe9ccc7}{GenerateGradScale}}(0, \mbox{\hyperlink{class_vibration_detector_a779ca47185d36d5fe0cf216c1cb9f48e}{fps\_}} / 2, \mbox{\hyperlink{class_vibration_detector_af75ebe29dd6955ae7a249c4c854c2657}{colored\_point\_mode\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00667}00667             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00668}00668         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00669}00669         \textcolor{comment}{// Выделение региона интереса (ROI)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00670}00670         \textcolor{comment}{// Клавиши -\/ "{}R"{} или "{}r"{} (ASCII code)}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00671}00671         \textcolor{keywordflow}{case} 82:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00672}00672         \textcolor{keywordflow}{case} 114:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00673}00673         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00674}00674             \textcolor{comment}{// Обновляем текущий режим}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00675}00675             \mbox{\hyperlink{class_vibration_detector_ad3748489d876505deab724e16cf1e767}{current\_mode\_}} = SELECTINGROI;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00676}00676             \textcolor{comment}{// Регион интереса}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00677}00677             Rect roi;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00678}00678             \textcolor{comment}{// Сбрасываеи флаг выделенного региона интереса}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00679}00679             \mbox{\hyperlink{class_vibration_detector_afd9f8f38bcde73bb14c9cf643f270d36}{roi\_selected\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00680}00680             \textcolor{comment}{// Флаг выхода из режима}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00681}00681             \textcolor{keywordtype}{bool} wanna\_quit = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00682}00682 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00683}00683             \textcolor{keywordflow}{while} (!\mbox{\hyperlink{class_vibration_detector_afd9f8f38bcde73bb14c9cf643f270d36}{roi\_selected\_}} \&\& !wanna\_quit)}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00684}00684             \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00685}00685                 \textcolor{comment}{// создаю копию current\_tracking\_frame\_}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00686}00686                 Mat frame = \mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}}.clone();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00687}00687                 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00688}00688                 \textcolor{comment}{// Пока происходит выделение региона интереса (в нашем случае пока не была отпущена ЛКМ), отрисовываем прямоугольник}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00689}00689                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_vibration_detector_aacb53723f4a18df998738d0d54c5290b}{roi\_selecting\_}})}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00690}00690                 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00691}00691                     roi = Rect(\mbox{\hyperlink{class_vibration_detector_aef49bdadca0536214393e22addf4ce04}{tl\_click\_coords\_}}, \mbox{\hyperlink{class_vibration_detector_a69f64f7b483a4295abd6e5a48ab161ff}{last\_mouse\_position\_}});}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00692}00692                     rectangle(frame, roi, Scalar(0, 255, 0), 1 * (1 / \mbox{\hyperlink{class_vibration_detector_a5c0d42618889da70c073056ba3e4065c}{res\_mp\_}}));}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00693}00693                 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00694}00694 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00695}00695                 \mbox{\hyperlink{class_vibration_detector_ad8741b76c24a08ec2ce54ff9d934ce76}{DrawAndOutput}}(frame);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00696}00696 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00697}00697                 \textcolor{keywordflow}{switch} (waitKey(20))}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00698}00698                 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00699}00699                 \textcolor{comment}{// R for reset}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00700}00700                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'r'}:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00701}00701                 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00702}00702                     wanna\_quit = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00703}00703                     \textcolor{comment}{// Удаляем старые "{}цветные"{} точки}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00704}00704                     \mbox{\hyperlink{class_vibration_detector_ab0f3c59d611f15ff9505429bcf2e45b7}{DeleteColoredPoints}}();}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00705}00705                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00706}00706                 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00707}00707                 \textcolor{comment}{// Esc}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00708}00708                 \textcolor{keywordflow}{case} 27:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00709}00709                 \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00710}00710                     wanna\_quit = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00711}00711                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00712}00712                 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00713}00713                 \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00714}00714             \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00715}00715             \textcolor{comment}{// ROI может быть пустым после выхода из цикла выше кейсом в свитче}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00716}00716             \textcolor{keywordflow}{if} (!roi.empty())}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00717}00717                 \mbox{\hyperlink{class_vibration_detector_a48e1f58a28d451445a23ea6575ef9b38}{c\_point\_queue\_}} = \mbox{\hyperlink{class_vibration_detector_a58f70fe74fee9f702773a0d2ab18643a}{FindGoodFeatures}}(\mbox{\hyperlink{class_vibration_detector_a3c823c70560e24ce3e8484ae25440357}{current\_tracking\_frame\_}}, roi);}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00718}00718 }
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00719}00719             \mbox{\hyperlink{class_vibration_detector_ad3748489d876505deab724e16cf1e767}{current\_mode\_}} = DEFAULT;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00720}00720             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00721}00721         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00722}00722         \textcolor{keywordflow}{case} \textcolor{charliteral}{'q'}:}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00723}00723         \{}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00724}00724             \mbox{\hyperlink{class_vibration_detector_ab0fa5fb784f1db6bdb7a9d9e5d608bb3}{running\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00725}00725             std::cout << \mbox{\hyperlink{class_vibration_detector_a57b58c6da673cafcca839e5f48d9045c}{frame\_handler}}-\/>\mbox{\hyperlink{class_frame_handler_a18519accbae4e5e7a043e81bd6a9d2c6}{GetInputCapStatus}}() << std::endl;}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00726}00726             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00727}00727         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00728}00728         \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00729}00729     \}}
\DoxyCodeLine{\Hypertarget{vibration__detector_8cpp_source_l00730}00730 \}}

\end{DoxyCode}
